(self.webpackChunkgatsby_source_statshunters_example=self.webpackChunkgatsby_source_statshunters_example||[]).push([[678],{7228:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r},t.exports.default=t.exports,t.exports.__esModule=!0},2858:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},3646:function(t,e,o){var r=o(7228);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.default=t.exports,t.exports.__esModule=!0},4575:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},9100:function(t,e,o){var r=o(9489),n=o(7067);function i(e,o,a){return n()?(t.exports=i=Reflect.construct,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=i=function(t,e,o){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return o&&r(i,o.prototype),i},t.exports.default=t.exports,t.exports.__esModule=!0),i.apply(null,arguments)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},3913:function(t){function e(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0},9713:function(t){t.exports=function(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t},t.exports.default=t.exports,t.exports.__esModule=!0},6525:function(t,e,o){var r=o(8331);function n(){return"undefined"!=typeof Reflect&&Reflect.get?(t.exports=n=Reflect.get,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t,e,o){var n=r(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:o):i.value}},t.exports.default=t.exports,t.exports.__esModule=!0),n.apply(this,arguments)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},9754:function(t){function e(o){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,e(o)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},2205:function(t,e,o){var r=o(9489);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},430:function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.default=t.exports,t.exports.__esModule=!0},7067:function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.default=t.exports,t.exports.__esModule=!0},6860:function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0},3884:function(t){t.exports=function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var r,n,i=[],a=!0,s=!1;try{for(o=o.call(t);!(a=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(l){s=!0,n=l}finally{try{a||null==o.return||o.return()}finally{if(s)throw n}}return i}},t.exports.default=t.exports,t.exports.__esModule=!0},521:function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},8206:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},8585:function(t,e,o){var r=o(8).default,n=o(1506);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return n(t)},t.exports.default=t.exports,t.exports.__esModule=!0},3038:function(t,e,o){var r=o(2858),n=o(3884),i=o(379),a=o(521);t.exports=function(t,e){return r(t)||n(t,e)||i(t,e)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},8331:function(t,e,o){var r=o(9754);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.default=t.exports,t.exports.__esModule=!0},8551:function(t,e,o){var r=o(2858),n=o(6860),i=o(379),a=o(521);t.exports=function(t){return r(t)||n(t)||i(t)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},319:function(t,e,o){var r=o(3646),n=o(6860),i=o(379),a=o(8206);t.exports=function(t){return r(t)||n(t)||i(t)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},8:function(t){function e(o){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(o)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},379:function(t,e,o){var r=o(7228);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},5957:function(t,e,o){var r=o(9754),n=o(9489),i=o(430),a=o(9100);function s(e){var o="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!i(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(t))return o.get(t);o.set(t,e)}function e(){return a(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n(e,t)},t.exports.default=t.exports,t.exports.__esModule=!0,s(e)}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},4944:function(t,e,o){"use strict";var r=o(2109),n=o(6790),i=o(7908),a=o(6244),s=o(9303),l=o(5417);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),o=a(e),r=l(e,0);return r.length=n(r,e,e,o,0,void 0===t?1:s(t)),r}})},3792:function(t,e,o){"use strict";o(1223)("flat")},5837:function(t,e,o){"use strict";var r=o(2109),n=o(7854);r({global:!0,forced:n.globalThis!==n},{globalThis:n})},5438:function(t,e,o){"use strict";var r=o(2109),n=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(t,e){for(var o,r,n=0,s=0,l=arguments.length,u=0;s<l;)u<(o=i(arguments[s++]))?(n=n*(r=u/o)*r+1,u=o):n+=o>0?(r=o/u)*r:o;return u===1/0?1/0:u*a(n)}})},5743:function(t,e,o){"use strict";o(5837)},9832:function(t,e,o){"use strict";function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}o.r(e),o.d(e,{default:function(){return ct}});var n=o(181);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var r,n,i=[],a=!0,s=!1;try{for(o=o.call(t);!(a=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(l){s=!0,n=l}finally{try{a||null==o.return||o.return()}finally{if(s)throw n}}return i}}(t,e)||(0,n.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(null==t)return{};var o,r,n=function(t,e){if(null==t)return{};var o,r,n={},i=Object.keys(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||(n[o]=t[o]);return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],e.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,o){return e&&l(t.prototype,e),o&&l(t,o),t}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=o(9611);function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(0,c.Z)(t,e)}var d=o(8);function h(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var y=o(2982),g=o(7378),v=o(2974),_=o.n(v),b=o(1542),x=["before","radius","onClick","onHover","onEnter","onLeave","onContextMenu"],w=["id","before","onClick"],k=["id","children"],S=["id","children"],C=["id","children"];function L(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function O(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?L(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):L(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,r=m(t);if(e){var n=m(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return h(this,o)}}function E(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var M=(0,g.createContext)(null),j="undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!Boolean(process.versions.electron))||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0,P="object"!=typeof process||"[object process]"!==String(process)||process.browser||j?_():null,D=["resize","remove","mousedown","mouseup","mouseover","mousemove","click","dblclick","mouseenter","mouseleave","mouseout","contextmenu","touchstart","touchend","touchmove","touchcancel","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoom","zoomend","rotatestart","rotate","rotateend","pitchstart","pitch","pitchend","boxzoomstart","boxzoomend","boxzoomcancel","webglcontextlost","webglcontextrestored","load","error","data","styledata","sourcedata","dataloading","styledataloading","sourcedataloading"],A=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length!==e.length)return!1;for(var o=0;o<t.length;o+=1)if(t[o]!==e[o])return!1;return!0},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,y.Z)(new Set([].concat((0,y.Z)(Object.keys(t)),(0,y.Z)(Object.keys(e))))).reduce((function(o,r){var n=t[r];return n!==e[r]&&o.push([r,n]),o}),[])},R=function(t,e,o,r){var n={layers:[e]};if(r){var i=[[o[0]-r,o[1]-r],[o[0]+r,o[1]+r]];return t.queryRenderedFeatures(i,n)}return t.queryRenderedFeatures(o,n)},z=[["onClick","click"],["onHover","mousemove"],["onEnter","mouseenter"],["onLeave","mouseleave"],["onContextMenu","contextmenu"]],B=function(t){f(o,t);var e=T(o);function o(t){var r;return s(this,o),E(p(r=e.call(this,t)),"_addLayer",(function(t){var e=r._map,o=t.before,n=(t.radius,t.onClick,t.onHover,t.onEnter,t.onLeave,t.onContextMenu,a(t,x));o&&e.getLayer(o)?e.addLayer(n,o):e.addLayer(n),r._addEventListeners(t)})),E(p(r),"_addEventListeners",(function(t){z.forEach((function(e){var o=i(e,2),n=o[0],a=o[1],s="_".concat(n);t[n]&&r._map.on(a,r._id,r[s])}))})),E(p(r),"_updateEventListeners",(function(t,e){z.forEach((function(o){var n=i(o,2),a=n[0],s=n[1],l="_".concat(a);!e[a]&&t[a]&&r._map.off(s,r._id,r[l]),e[a]&&!t[a]&&r._map.on(s,r._id,r[l])}))})),E(p(r),"_removeEventListeners",(function(t){z.forEach((function(e){var o=i(e,2),n=o[0],a=o[1],s="_".concat(n);t[n]&&r._map.off(a,r._id,r[s])}))})),E(p(r),"_onClick",(function(t){var e=[t.point.x,t.point.y],o=R(r._map,r._id,e,r.props.radius);r.props.onClick(O(O({},t),{},{features:o}))})),E(p(r),"_onHover",(function(t){var e=[t.point.x,t.point.y],o=R(r._map,r._id,e,r.props.radius);r.props.onHover(O(O({},t),{},{features:o}))})),E(p(r),"_onEnter",(function(t){var e=[t.point.x,t.point.y],o=R(r._map,r._id,e,r.props.radius);r.props.onEnter(O(O({},t),{},{features:o}))})),E(p(r),"_onLeave",(function(t){var e=[t.point.x,t.point.y],o=R(r._map,r._id,e,r.props.radius);r.props.onLeave(O(O({},t),{},{features:o}))})),E(p(r),"_onContextMenu",(function(t){var e=[t.point.x,t.point.y],o=R(r._map,r._id,e,r.props.radius);r.props.onContextMenu(O(O({},t),{},{features:o}))})),r._id=t.id,r}return u(o,[{key:"componentDidMount",value:function(){this._addLayer(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this,o=this._map,r=this.props,n=r.id,s=r.before,l=(r.onClick,a(r,w));if(n!==t.id||this.props.type!==t.type||"background"!==t.type&&(this.props.source!==t.source||this.props["source-layer"]!==t["source-layer"]))return this._id=n,this._map.removeLayer(t.id),void this._addLayer(this.props);s!==t.before&&s&&o.getLayer(s)&&o.moveLayer(this._id,s),l.paint!==t.paint&&U(l.paint,t.paint).forEach((function(t){var r=i(t,2),n=r[0],a=r[1];o.setPaintProperty(e._id,n,a)})),l.layout!==t.layout&&U(l.layout,t.layout).forEach((function(t){var r=i(t,2),n=r[0],a=r[1];o.setLayoutProperty(e._id,n,a)})),l.filter!==t.filter&&(l.filter?o.setFilter(this._id,l.filter):o.setFilter(this._id,void 0)),this._updateEventListeners(t,this.props)}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&(this._removeEventListeners(this.props),this._map.getLayer(this._id)&&this._map.removeLayer(this._id))}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),o}(g.PureComponent);E(B,"displayName","Layer"),E(B,"defaultProps",{radius:0});var F=function(t){f(o,t);var e=T(o);function o(){return s(this,o),e.apply(this,arguments)}return u(o,[{key:"componentDidMount",value:function(){var t=this.props,e=t.layer,o=t.before;o&&this._map.getLayer(o)?this._map.addLayer(e,o):this._map.addLayer(e),this._id=e.id}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&this._map.getLayer(this._id)&&this._map.removeLayer(this._id)}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),o}(g.PureComponent);E(F,"displayName","CustomLayer");var Z=[B,F],W=function(t){return Z.includes(t.type)},N=function t(e,o){g.Children.forEach(o,(function(o){o&&(W(o)&&e(o),o.props&&o.props.children&&t(e,o.props.children))}))},V=function(t){var e=function(t){var e=[];return N((function(t){t.props.before||e.push(function(t){return t.props.id||t.props.layer.id}(t))}),t),e}(t);e.shift();return function t(o){return"function"==typeof o?o:g.Children.map(o,(function(o){if(!o)return o;if(W(o)){var r=o.props.before||e.shift();return(0,g.cloneElement)(o,{before:r})}return o.props&&o.props.children?(0,g.cloneElement)(o,{children:t(o.props.children)}):o}))}(t)},q=function(t){f(o,t);var e=T(o);function o(t){var r;return s(this,o),E(p(r=e.call(this,t)),"state",{loaded:!1}),E(p(r),"_onViewportChange",(function(t){if(t.originalEvent){var e=r._map,o=e.getCenter(),n=o.lng,i={latitude:o.lat,longitude:n,zoom:e.getZoom(),pitch:e.getPitch(),bearing:e.getBearing()};r.props.onViewportChange(i)}})),P&&(P.accessToken=t.accessToken),r._container=(0,g.createRef)(),r}return u(o,[{key:"componentDidMount",value:function(){var t=this;if(P){var e=this._container.current,o=new P.Map({container:e,style:this.props.mapStyle,interactive:!!this.props.onViewportChange,center:[this.props.longitude,this.props.latitude],zoom:this.props.zoom,pitch:this.props.pitch,bearing:this.props.bearing,minZoom:this.props.minZoom,maxZoom:this.props.maxZoom,hash:this.props.hash,bearingSnap:this.props.bearingSnap,pitchWithRotate:this.props.pitchWithRotate,attributionControl:this.props.attributionControl,logoPosition:this.props.logoPosition,failIfMajorPerformanceCaveat:this.props.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.props.preserveDrawingBuffer,antialias:this.props.antialias,refreshExpiredTiles:this.props.refreshExpiredTiles,maxBounds:this.props.maxBounds,bounds:this.props.bounds,scrollZoom:this.props.scrollZoom,boxZoom:this.props.boxZoom,dragRotate:this.props.dragRotate,dragPan:this.props.dragPan,keyboard:this.props.keyboard,doubleClickZoom:this.props.doubleClickZoom,trackResize:this.props.trackResize,renderWorldCopies:this.props.renderWorldCopies,maxTileCacheSize:this.props.maxTileCacheSize,localIdeographFontFamily:this.props.localIdeographFontFamily,transformRequest:this.props.transformRequest,collectResourceTiming:this.props.collectResourceTiming,fadeDuration:this.props.fadeDuration,crossSourceCollisions:this.props.crossSourceCollisions,locale:this.props.locale});this._map=o,o.once("load",(function(){t.setState({loaded:!0},t.props.onLoad)})),this.props.onViewportChange&&(o.on("dragend",this._onViewportChange),o.on("zoomend",this._onViewportChange),o.on("rotateend",this._onViewportChange),o.on("pitchend",this._onViewportChange),o.on("boxzoomend",this._onViewportChange)),D.forEach((function(e){var r="on".concat(A(e)),n=t.props[r];n&&(Array.isArray(n)?o.on.apply(o,[e].concat((0,y.Z)(n))):o.on(e,n))})),this.props.cursorStyle&&(o.getCanvas().style.cursor=this.props.cursorStyle),this.props.showTileBoundaries&&(this._map.showTileBoundaries=this.props.showTileBoundaries)}}},{key:"componentDidUpdate",value:function(t){this._updateMapViewport(t,this.props),this._updateMapStyle(t,this.props),this._updateMapSize(t,this.props),this._updateMapEventListeners(t,this.props),!t.cursorStyle!==this.props.cursorStyle&&(this._map.getCanvas().style.cursor=this.props.cursorStyle),t.showTileBoundaries!==this.props.showTileBoundaries&&(this._map.showTileBoundaries=!!this.props.showTileBoundaries)}},{key:"componentWillUnmount",value:function(){this._map&&this._map.remove()}},{key:"getMap",value:function(){return this._map}},{key:"_updateMapEventListeners",value:function(t,e){var o=this;D.forEach((function(r){var n,i,a="on".concat(A(r)),s=t[a],l=e[a];Array.isArray(s)&&Array.isArray(l)&&I(s,l)||s===l||(s&&(Array.isArray(s)?(n=o._map).off.apply(n,[r].concat((0,y.Z)(s))):o._map.off(r,s)),l&&(Array.isArray(l)?(i=o._map).on.apply(i,[r].concat((0,y.Z)(l))):o._map.on(r,l)))}))}},{key:"_updateMapStyle",value:function(t,e){var o=this,r=e.mapStyle,n=t.mapStyle;r!==n&&this.setState({loaded:!1},(function(){o._map.setStyle(r),o._map.once("style.load",(function(){return o.setState({loaded:!0})}))}))}},{key:"_updateMapViewport",value:function(t,e){var o=this._map,r=o.getCenter();if(e.latitude!==t.latitude&&e.latitude!==r.lat||e.longitude!==t.longitude&&e.longitude!==r.lng||e.zoom!==t.zoom&&e.zoom!==o.getZoom()||e.pitch!==t.pitch&&e.pitch!==o.getPitch()||e.bearing!==t.bearing&&e.bearing!==o.getBearing()){var n={center:[e.longitude,e.latitude],zoom:e.zoom,pitch:e.pitch,bearing:e.bearing},i=this.props,a=i.viewportChangeMethod,s=O(O({},i.viewportChangeOptions),n);switch(a){case"flyTo":o.flyTo(s);break;case"jumpTo":o.jumpTo(s);break;case"easeTo":o.easeTo(s);break;default:throw new Error("Unknown viewport change method")}}}},{key:"_updateMapSize",value:function(t,e){((t.style&&t.style.height)!==(e.style&&e.style.height)||(t.style&&t.style.width)!==(e.style&&e.style.width))&&this._map.resize()}},{key:"render",value:function(){var t=this.state.loaded,e=this.props,o=e.className,r=e.style,n=this.props.children?V(this.props.children):null;return(0,g.createElement)(M.Provider,{value:this._map},(0,g.createElement)("div",{ref:this._container,style:r,className:o},t&&n))}}]),o}(g.PureComponent);E(q,"displayName","MapGL"),E(q,"defaultProps",{children:null,className:null,style:null,mapStyle:"mapbox://styles/mapbox/light-v8",accessToken:null,bearing:0,pitch:0,minZoom:0,maxZoom:22,maxBounds:null,bounds:null,hash:!1,bearingSnap:7,pitchWithRotate:!0,attributionControl:!0,logoPosition:"bottom-left",failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,antialias:!1,refreshExpiredTiles:!0,boxZoom:!0,scrollZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,trackResize:!0,renderWorldCopies:!0,maxTileCacheSize:null,onViewportChange:null,onLoad:null,localIdeographFontFamily:null,transformRequest:null,collectResourceTiming:!1,fadeDuration:300,crossSourceCollisions:!0,locale:null,cursorStyle:null,viewportChangeMethod:"jumpTo",viewportChangeOptions:null});var H=function(t){switch(t.type){case"vector":return O({type:"vector"},t);case"raster":return O({type:"raster"},t);case"raster-dem":return O({type:"raster-dem"},t);case"geojson":return O({type:"geojson"},t);case"video":return O({type:"video"},t);case"image":return O({type:"image"},t);default:throw new Error("Unknown type for '".concat(t.id,"' Source"))}},G=function(t){f(o,t);var e=T(o);function o(){var t;s(this,o);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return E(p(t=e.call.apply(e,[this].concat(n))),"state",{loaded:!1}),E(p(t),"_onSourceData",(function(){t._map.isSourceLoaded(t.props.id)&&(t._map.off("sourcedata",t._onSourceData),t.setState({loaded:!0}))})),E(p(t),"_updateGeoJSONSource",(function(e,o,r){if(r.data!==o.data){var n=t._map.getSource(e);void 0!==n&&n.setData(r.data)}})),E(p(t),"_updateImageSource",(function(e,o,r){if(r.url!==o.url||r.coordinates!==o.coordinates){var n=t._map.getSource(e);void 0!==n&&n.updateImage(r)}})),E(p(t),"_updateTileSource",(function(e,o,r){if(r.url!==o.url||!I(r.tiles,o.tiles)){var n=t._map.getSource(e);n._tileJSONRequest&&n._tileJSONRequest.cancel(),n.url=r.url,n.scheme=r.scheme,n._options=O(O({},n._options),r);var i=t._map.style.sourceCaches[e];i&&i.clearTiles(),n.load()}})),E(p(t),"_removeSource",(function(){var e=t.props.id;if(t._map.getSource(e)){var o=t._map.getStyle().layers;o&&o.forEach((function(o){o.source===e&&t._map.removeLayer(o.id)})),t._map.removeSource(e)}})),t}return u(o,[{key:"componentDidMount",value:function(){var t=this.props,e=t.id,o=(t.children,a(t,k)),r=H(o);this._map.addSource(e,r),this._map.on("sourcedata",this._onSourceData)}},{key:"componentDidUpdate",value:function(t){var e=t.id,o=(t.children,a(t,S)),r=H(o),n=this.props,i=n.id,s=(n.children,a(n,C)),l=H(s);if(i!==e||l.type!==r.type)return this._map.removeSource(e),void this._map.addSource(i,l);"geojson"!==l.type||"geojson"!==r.type?"image"!==l.type||"image"!==r.type?"vector"!==l.type||"vector"!==r.type?"raster"===l.type&&"raster"===r.type&&this._updateTileSource(i,r,l):this._updateTileSource(i,r,l):this._updateImageSource(i,r,l):this._updateGeoJSONSource(i,r,l)}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&this._removeSource()}},{key:"render",value:function(){var t=this,e=this.state.loaded,o=this.props.children;return(0,g.createElement)(M.Consumer,{},(function(r){return r&&(t._map=r),e&&o}))}}]),o}(g.PureComponent);E(G,"displayName","Source");var J=function(t){f(o,t);var e=T(o);function o(t){var r;return s(this,o),(r=e.call(this,t))._el=document.createElement("div"),r}return u(o,[{key:"componentDidMount",value:function(){var t=this.props,e=t.longitude,o=t.latitude,r=t.offset,n=t.closeButton,i=t.closeOnClick,a=t.onClose,s=t.anchor,l=t.className,u=t.maxWidth;this._popup=new P.Popup({offset:r,closeButton:n,closeOnClick:i,anchor:s,className:l,maxWidth:u}),this._popup.setDOMContent(this._el),this._popup.setLngLat([e,o]).addTo(this._map),a&&this._popup.on("close",a)}},{key:"componentDidUpdate",value:function(t){(t.latitude!==this.props.latitude||t.longitude!==this.props.longitude)&&this._popup.setLngLat([this.props.longitude,this.props.latitude])}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&this._popup.remove()}},{key:"getPopup",value:function(){return this._popup}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),(0,b.createPortal)(t.props.children,t._el)}))}}]),o}(g.PureComponent);E(J,"displayName","Popup"),E(J,"defaultProps",{closeButton:!0,closeOnClick:!0,onClose:void 0,anchor:void 0,offset:void 0,className:void 0,maxWidth:"240px"});var $=function(t){f(o,t);var e=T(o);function o(t){var r;return s(this,o),E(p(r=e.call(this,t)),"_onDragEnd",(function(){r.props.onDragEnd(r._marker.getLngLat())})),E(p(r),"_onDragStart",(function(){r.props.onDragStart(r._marker.getLngLat())})),E(p(r),"_onDrag",(function(){r.props.onDrag(r._marker.getLngLat())})),r._el=document.createElement("div"),r}return u(o,[{key:"componentDidMount",value:function(){var t=this.props,e=t.longitude,o=t.latitude,r=t.onClick,n=t.onDragEnd,i=t.onDragStart,a=t.onDrag;this._marker=new P.Marker({element:this._el,anchor:this.props.anchor,draggable:this.props.draggable,offset:this.props.offset,rotation:this.props.rotation,pitchAlignment:this.props.pitchAlignment,rotationAlignment:this.props.rotationAlignment}),this._marker.setLngLat([e,o]).addTo(this._map),r&&this._el.addEventListener("click",r),n&&this._marker.on("dragend",this._onDragEnd),i&&this._marker.on("dragstart",this._onDragStart),a&&this._marker.on("drag",this._onDrag)}},{key:"componentDidUpdate",value:function(t){(t.latitude!==this.props.latitude||t.longitude!==this.props.longitude)&&this._marker.setLngLat([this.props.longitude,this.props.latitude])}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&(this.props.onClick&&this._el.removeEventListener("click",this.props.onClick),this._marker.remove())}},{key:"getMarker",value:function(){return this._marker}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),(0,b.createPortal)(t.props.children,t._el)}))}}]),o}(g.PureComponent);E($,"displayName","Marker"),E($,"defaultProps",{anchor:"center",offset:null,draggable:!1,rotation:0,pitchAlignment:"auto",rotationAlignment:"auto"});var Y=function(t){f(o,t);var e=T(o);function o(t){var r;return s(this,o),E(p(r=e.call(this,t)),"_loadImage",(function(t,e){"string"!=typeof t?e(t):r._map.loadImage(t,(function(t,o){if(t)throw t;e(o)}))})),r._id=t.id,r}return u(o,[{key:"componentDidMount",value:function(){var t=this,e=this.props,o=e.image,r=e.pixelRatio,n=e.sdf;this._loadImage(o,(function(e){return t._map.addImage(t._id,e,{pixelRatio:r,sdf:n})}))}},{key:"componentDidUpdate",value:function(t){var e=this,o=this.props,r=o.id,n=o.image,i=o.pixelRatio,a=o.sdf;if(r!==t.id||a!==t.sdf||i!==t.pixelRatio)return this._id=r,this._map.removeImage(t.id),void this._loadImage(n,(function(t){return e._map.addImage(e._id,t,{pixelRatio:i,sdf:a})}));n!==t.image&&this._loadImage(n,(function(t){return e._map.updateImage(e._id,t)}))}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&this._map.hasImage(this._id)&&this._map.removeImage(this._id)}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),o}(g.PureComponent);E(Y,"defaultProps",{pixelRatio:1,sdf:!1});var K=function(t){f(o,t);var e=T(o);function o(){return s(this,o),e.apply(this,arguments)}return u(o,[{key:"componentDidMount",value:function(){var t=this._map,e=this.props,o=e.compact,r=e.customAttribution,n=e.position,i=new P.AttributionControl({compact:o,customAttribution:r});t.addControl(i,n),this._control=i}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:"getControl",value:function(){return this._control}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),o}(g.PureComponent);E(K,"defaultProps",{position:"bottom-right"});var Q=function(t){f(o,t);var e=T(o);function o(){return s(this,o),e.apply(this,arguments)}return u(o,[{key:"componentDidMount",value:function(){var t=this._map,e=this.props,o=e.container,r=e.position,n=new P.FullscreenControl({container:o});t.addControl(n,r),this._control=n}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:"getControl",value:function(){return this._control}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),o}(g.PureComponent);E(Q,"defaultProps",{position:"top-right"});var X=function(t){f(o,t);var e=T(o);function o(){return s(this,o),e.apply(this,arguments)}return u(o,[{key:"componentDidMount",value:function(){var t=this._map,e=this.props,o=e.positionOptions,r=e.fitBoundsOptions,n=e.trackUserLocation,i=e.showUserLocation,a=e.position,s=e.onTrackUserLocationEnd,l=e.onTrackUserLocationStart,u=e.onError,p=e.onGeolocate,c=new P.GeolocateControl({positionOptions:o,fitBoundsOptions:r,trackUserLocation:n,showUserLocation:i});s&&c.on("trackuserlocationend",s),l&&c.on("trackuserlocationstart",l),u&&c.on("error",u),p&&c.on("geolocate",p),t.addControl(c,a),this._control=c}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:"getControl",value:function(){return this._control}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),o}(g.PureComponent);E(X,"defaultProps",{positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0});var tt=function(t){f(o,t);var e=T(o);function o(){return s(this,o),e.apply(this,arguments)}return u(o,[{key:"componentDidMount",value:function(){var t=this._map,e=this.props,o=e.showCompass,r=e.showZoom,n=e.visualizePitch,i=e.position,a=new P.NavigationControl({showCompass:o,showZoom:r,visualizePitch:n});t.addControl(a,i),this._control=a}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:"getControl",value:function(){return this._control}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),o}(g.PureComponent);E(tt,"defaultProps",{showCompass:!0,showZoom:!0,visualizePitch:!1,position:"top-right"});var et=function(t){f(o,t);var e=T(o);function o(){return s(this,o),e.apply(this,arguments)}return u(o,[{key:"componentDidMount",value:function(){var t=this._map,e=this.props,o=e.maxWidth,r=e.unit,n=e.position,i=new P.ScaleControl({maxWidth:o,unit:r});t.addControl(i,n),this._control=i}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:"getControl",value:function(){return this._control}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),o}(g.PureComponent);E(et,"defaultProps",{position:"bottom-right",unit:"metric"});var ot={exports:{}};!function(t){function e(t){if(t=Object.assign({},t),!(this instanceof e))throw new Error("MapboxLanguage needs to be called with the new keyword");this.setLanguage=this.setLanguage.bind(this),this._initialStyleUpdate=this._initialStyleUpdate.bind(this),this._defaultLanguage=t.defaultLanguage,this._isLanguageField=t.languageField||/^\{name/,this._getLanguageField=t.getLanguageField||function(t){return"mul"===t?"{name}":"{name_"+t+"}"},this._languageSource=t.languageSource||null,this._languageTransform=t.languageTransform||function(t,e){return"ar"===e?function(t){var e=t.layers.map((function(t){if(!(t.layout||{})["text-field"])return t;return Object.assign({},t,{layout:Object.assign({},t.layout,{"text-letter-spacing":0})})}));return Object.assign({},t,{layers:e})}(t):function(t){var e=t.layers.map((function(t){if(!(t.layout||{})["text-field"])return t;var e=0;return"state_label"===t["source-layer"]&&(e=.15),"marine_label"===t["source-layer"]&&(/-lg/.test(t.id)&&(e=.25),/-md/.test(t.id)&&(e=.15),/-sm/.test(t.id)&&(e=.1)),"place_label"===t["source-layer"]&&(/-suburb/.test(t.id)&&(e=.15),/-neighbour/.test(t.id)&&(e=.1),/-islet/.test(t.id)&&(e=.01)),"airport_label"===t["source-layer"]&&(e=.01),"rail_station_label"===t["source-layer"]&&(e=.01),"poi_label"===t["source-layer"]&&/-scalerank/.test(t.id)&&(e=.01),"road_label"===t["source-layer"]&&(/-label-/.test(t.id)&&(e=.01),/-shields/.test(t.id)&&(e=.05)),Object.assign({},t,{layout:Object.assign({},t.layout,{"text-letter-spacing":e})})}));return Object.assign({},t,{layers:e})}(t)},this._excludedLayerIds=t.excludedLayerIds||[],this.supportedLanguages=t.supportedLanguages||["ar","en","es","fr","de","ja","ko","mul","pt","ru","zh"]}function o(t,e,o){if(function(t,e){return"string"==typeof e&&t.test(e)}(t,e))return o;if(function(t,e){return e.stops&&e.stops.filter((function(e){return t.test(e[1])})).length>0}(t,e)){var r=e.stops.map((function(e){return t.test(e[1])?[e[0],o]:e}));return Object.assign({},e,{stops:r})}return e}e.prototype.setLanguage=function(t,e){if(this.supportedLanguages.indexOf(e)<0)throw new Error("Language "+e+" is not supported");var r=this._languageSource||function(t){return Object.keys(t.sources).filter((function(e){var o=t.sources[e];return/mapbox-streets-v\d/.test(o.url)}))[0]}(t);if(!r)return t;var n=this._getLanguageField(e),i=this._isLanguageField,a=this._excludedLayerIds,s=t.layers.map((function(t){return t.source===r?function(t,e,r,n){return e.layout&&e.layout["text-field"]&&-1===n.indexOf(e.id)?Object.assign({},e,{layout:Object.assign({},e.layout,{"text-field":o(t,e.layout["text-field"],r)})}):e}(i,t,n,a):t})),l=Object.assign({},t,{layers:s});return this._languageTransform(l,e)},e.prototype._initialStyleUpdate=function(){var t=this._map.getStyle(),e=this._defaultLanguage||function(t){var e=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage,o=e.split("-"),r=e;return o.length>1&&(r=o[0]),t.indexOf(r)>-1?r:null}(this.supportedLanguages);this._map.off("styledata",this._initialStyleUpdate),this._map.setStyle(this.setLanguage(t,e))},e.prototype.onAdd=function(t){return this._map=t,this._map.on("styledata",this._initialStyleUpdate),this._container=document.createElement("div"),this._container},e.prototype.onRemove=function(){this._map.off("styledata",this._initialStyleUpdate),this._map=void 0},t.exports=e}(ot);var rt=ot.exports,nt=function(t){f(o,t);var e=T(o);function o(){var t;s(this,o);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return E(p(t=e.call.apply(e,[this].concat(n))),"_setLanguage",(function(){var e=t.props.language,o=t._map,r=t._control;e&&o.setStyle(r.setLanguage(o.getStyle(),e))})),t}return u(o,[{key:"componentDidMount",value:function(){var t=this._map,e=this.props,o=e.supportedLanguages,r=e.languageTransform,n=e.languageField,i=e.getLanguageField,a=e.languageSource,s=e.defaultLanguage,l=new rt({supportedLanguages:o,languageTransform:r,languageField:n,getLanguageField:i,languageSource:a,defaultLanguage:s});t.addControl(l),this._control=l}},{key:"componentDidUpdate",value:function(t){t.language!==this.props.language&&this._setLanguage()}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:"getControl",value:function(){return this._control}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),o}(g.PureComponent);E(nt,"defaultProps",{});var it={exports:{}};!function(t){var e=[{id:"traffic-street-link-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:15,filter:["all",["==","$type","LineString"],["all",["has","congestion"],["in","class","link","motorway_link","service","street"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[14,2.5],[20,15.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.5,stops:[[14,2],[20,18]]},"line-opacity":{base:1,stops:[[15,0],[16,1]]}}},{id:"traffic-secondary-tertiary-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["has","congestion"],["in","class","secondary","tertiary"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[9,1.5],[18,11],[20,16.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.5,stops:[[10,.5],[15,5],[18,11],[20,14.5]]},"line-opacity":{base:1,stops:[[13,0],[14,1]]}}},{id:"traffic-primary-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","class","primary"],["has","congestion"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[10,.75],[15,6],[20,18]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.2,stops:[[10,0],[12,1.5],[18,13],[20,16]]},"line-opacity":{base:1,stops:[[11,0],[12,1]]}}},{id:"traffic-trunk-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","class","trunk"],["has","congestion"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[8,.5],[9,2.25],[18,13],[20,17.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-offset":{base:1.5,stops:[[7,0],[9,1],[18,13],[20,18]]},"line-opacity":1}},{id:"traffic-motorway-bg",type:"line",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},source:"mapbox://mapbox.mapbox-traffic-v1","source-layer":"traffic",minzoom:6,filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["has","congestion"]]],layout:{visibility:"visible","line-join":"round","line-cap":"round"},paint:{"line-width":{base:1.5,stops:[[6,.5],[9,3],[18,16],[20,20]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(145, 95%, 30%)"],["moderate","hsl(30, 100%, 42%)"],["heavy","hsl(355, 100%, 37%)"],["severe","hsl(355, 70%, 22%)"]]},"line-opacity":1,"line-offset":{base:1.5,stops:[[7,0],[9,1.2],[11,1.2],[18,10],[20,15.5]]}}},{id:"traffic-primary",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-primary-bg",paint:{"line-width":{base:1.5,stops:[[10,1],[15,4],[20,16]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.2,stops:[[10,0],[12,1.5],[18,13],[20,16]]},"line-opacity":1}},{id:"traffic-secondary-tertiary",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-secondary-tertiary-bg",paint:{"line-width":{base:1.5,stops:[[9,.5],[18,9],[20,14]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.5,stops:[[10,.5],[15,5],[18,11],[20,14.5]]},"line-opacity":1}},{id:"traffic-street-link",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-street-link-bg",paint:{"line-width":{base:1.5,stops:[[14,1.5],[20,13.5]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.5,stops:[[14,2],[20,18]]},"line-opacity":1}},{id:"traffic-trunk",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-trunk-bg",paint:{"line-width":{base:1.5,stops:[[8,.75],[18,11],[20,15]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-offset":{base:1.5,stops:[[7,0],[9,1],[18,13],[20,18]]},"line-opacity":1}},{id:"traffic-motorway",metadata:{"mapbox:group":"4053de47c16e55481b10fd748eaa994c"},ref:"traffic-motorway-bg",paint:{"line-width":{base:1.5,stops:[[6,.5],[9,1.5],[18,14],[20,18]]},"line-color":{base:1,type:"categorical",property:"congestion",stops:[["low","hsl(142, 55%, 50%)"],["moderate","hsl(30, 100%, 55%)"],["heavy","hsl(355, 100%, 50%)"],["severe","hsl(355, 70%, 35%)"]]},"line-opacity":1,"line-offset":{base:1.5,stops:[[7,0],[9,1.2],[11,1.2],[18,10],[20,15.5]]}}}];function o(t){if(!(this instanceof o))throw new Error("MapboxTraffic needs to be called with the new keyword");this.options=Object.assign({showTraffic:!1,showTrafficButton:!0,trafficSource:/mapbox-traffic-v\d/},t),this.render=this.render.bind(this),this.toggleTraffic=this.toggleTraffic.bind(this),this._hideTraffic=this._hideTraffic.bind(this),this._showTraffic=this._showTraffic.bind(this),this._hasTraffic=this._hasTraffic.bind(this),this._toggle=new r({show:this.options.showTrafficButton,onToggle:this.toggleTraffic.bind(this)})}function r(t){var e;t=Object.assign({show:!0,onToggle:function(){}},t),this._btn=((e=document.createElement("button")).className="mapboxgl-ctrl-icon mapboxgl-ctrl-traffic",e.type="button",e["aria-label"]="Inspect",e),this._btn.onclick=t.onToggle,this.elem=function(t,e){var o=document.createElement("div");return o.className="mapboxgl-ctrl mapboxgl-ctrl-group",o.appendChild(t),e||(o.style.display="none"),o}(this._btn,t.show)}o.prototype._hasTraffic=function(){var t=this._map.getStyle(),e=this.options.trafficSource;return Object.keys(t.sources).filter((function(t){return e.test(t)})).length>0},o.prototype.toggleTraffic=function(){this.options.showTraffic=!this.options.showTraffic,this.render()},o.prototype.render=function(){if(!this._hasTraffic()){this._map.addSource("mapbox://mapbox.mapbox-traffic-v1",{type:"vector",url:"mapbox://mapbox.mapbox-traffic-v1"});var t=this._map.getStyle().layers.filter((function(t){return"road"===t["source-layer"]})),o=t[t.length-1].id,r=function(t,e,o){for(var r=0;r<t.layers.length;r++)if(o===t.layers[r].id){var n=t.layers.slice(0,r).concat(e).concat(t.layers.slice(r));return Object.assign({},t,{layers:n})}return t}(this._map.getStyle(),e,o);this._map.setStyle(r)}this.options.showTraffic?(this._showTraffic(),this._toggle.setMapIcon()):(this._hideTraffic(),this._toggle.setTrafficIcon())},o.prototype._hideTraffic=function(){var t=this._map.getStyle(),e=this.options.trafficSource;t.layers.forEach((function(t){e.test(t.source)&&(t.layout=t.layout||{},t.layout.visibility="none")})),this._map.setStyle(t)},o.prototype._showTraffic=function(){var t=this._map.getStyle(),e=this.options.trafficSource;t.layers.forEach((function(t){e.test(t.source)&&(t.layout=t.layout||{},t.layout.visibility="visible")})),this._map.setStyle(t)},o.prototype.onAdd=function(t){return this._map=t,t.on("load",this.render),this._toggle.elem},o.prototype.onRemove=function(){this._map.off("load",this.render);var t=this._toggle.elem;t.parentNode.removeChild(t),this._map=void 0},r.prototype.setTrafficIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-traffic"},r.prototype.setMapIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-map"},t.exports=o}(it);var at=it.exports,st=function(t){f(o,t);var e=T(o);function o(){var t;s(this,o);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return E(p(t=e.call.apply(e,[this].concat(n))),"_addControl",(function(){var e=t.props,o=e.showTraffic,r=e.showTrafficButton,n=e.trafficSource,i=new at({showTraffic:o,showTrafficButton:r,trafficSource:n});t._map.addControl(i),t._control=i})),t}return u(o,[{key:"componentDidMount",value:function(){this._addControl()}},{key:"componentDidUpdate",value:function(t){t.showTraffic!==this.props.showTraffic&&this._control.toggleTraffic(),(t.showTrafficButton!==this.props.showTrafficButton||t.trafficSource!==this.props.trafficSource)&&(this._map.removeControl(this._control),this._addControl())}},{key:"componentWillUnmount",value:function(){this._map&&this._map.getStyle()&&this._map.removeControl(this._control)}},{key:"getControl",value:function(){return this._control}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),o}(g.PureComponent);E(st,"defaultProps",{showTraffic:!1,showTrafficButton:!0,trafficSource:/mapbox-traffic-v\d/});var lt=function(t){f(o,t);var e=T(o);function o(){return s(this,o),e.apply(this,arguments)}return u(o,[{key:"componentDidMount",value:function(){this._setFilter()}},{key:"componentDidUpdate",value:function(t){var e=t.filter,o=t.validate,r=this.props,n=r.filter,i=r.validate;(!I(e,n)||o!==i)&&this._setFilter()}},{key:"componentWillUnmount",value:function(){if(this._map&&this._map.getStyle()){var t=this.props.layerId;void 0!==this._map.getLayer(t)&&this._map.setFilter(t,void 0)}}},{key:"_setFilter",value:function(){var t=this.props,e=t.layerId,o=t.filter,r=t.validate;void 0!==this._map.getLayer(e)&&(Array.isArray(o)?this._map.setFilter(e,o,{validate:r}):this._map.setFilter(e,void 0))}},{key:"render",value:function(){var t=this;return(0,g.createElement)(M.Consumer,{},(function(e){return e&&(t._map=e),null}))}}]),o}(g.PureComponent);E(lt,"defaultProps",{validate:!0});var ut=function(t){return{type:"FeatureCollection",features:t.map((function(t){return{type:"Feature",geometry:{type:"Polygon",coordinates:[t]}}}))}},pt=function(t){var e=t.id,o=t.tiles,r=t.color;return g.createElement(g.Fragment,null,g.createElement(G,{id:e,type:"geojson",data:ut(o)}),g.createElement(B,{id:e,type:"fill",source:e,paint:{"fill-color":r,"fill-opacity":.1}}),g.createElement(B,{id:e+"_borders",type:"line",source:e,paint:{"line-color":r,"line-width":2,"line-opacity":.1}}))},ct=function(t){var e=t.data.statsHunters,o=(0,g.useState)({zoom:8,longitude:"1.1941289",latitude:"43.5928275"}),r=o[0],n=o[1];return g.createElement(q,{style:{height:"100vh"},accessToken:"pk.eyJ1IjoieHVvcGxlZCIsImEiOiJjamt4cjh4am8wYm5uM2tvZTNra2JseGtvIn0.-b4Vkhv8dPIbnArP4TS9UA",latitude:r.latitude,longitude:r.longitude,zoom:r.zoom,onViewportChange:function(t){return n(t)},attributionControl:!1},g.createElement(et,{unit:"metric",position:"bottom-right"}),g.createElement(tt,{showCompass:!0,showZoom:!0,position:"top-right"}),g.createElement(Q,{position:"top-right"}),g.createElement(pt,{id:"square",tiles:e.square,color:"#428cf4"}),g.createElement(pt,{id:"cluster",tiles:e.cluster,color:"#2ca57e"}),g.createElement(pt,{id:"tiles",tiles:e.tiles,color:"#ff0000"}))}}}]);
//# sourceMappingURL=component---src-pages-index-js-80936e5cdbfb0a5a7a10.js.map